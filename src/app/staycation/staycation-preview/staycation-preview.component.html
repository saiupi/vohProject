<ion-content class="bg-custom">
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div *ngIf="!staycationPreviewData">
          <img class="banner-image" src="../assets/images/NoPath - Copy (76).png" />
        </div>

        <div *ngIf="staycationPreviewData">
          <img class="banner-image" src="{{ staycationPreviewData.packageValues.mainImage }}" />
        </div>
        <section class="container">
          <div class="carousel-cptn">
            <h1>{{ staycationPreviewData?.packageValues?.name }}</h1>
          </div>
        </section>
        <!-- Navtabs -->
        <section class="container">
          <div class="carousel-caption nav-tabs-mobile-view">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" href="#overView" [ngClass]="{ 'active':activeTab==='overView'}"
                  (click)="overView('overView')" data-toggle="tab">Overview</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#accommodation" [ngClass]="{ 'active':activeTab==='accommodation'}"
                  data-toggle="tab" (click)="accommodation('accommodation')">Accommodation</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#location" [ngClass]="{ 'active':activeTab==='location'}" data-toggle="tab"
                  (click)="location('location')">Location</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#gallery" [ngClass]="{ 'active':activeTab==='gallery'}" data-toggle="tab"
                  (click)="gallery('gallery')">Gallery</a>
              </li>
            </ul>
          </div>
        </section>

      </div>
    </div>
    <div></div>
  </div>
  <div class="container">
    <ion-grid>
      <ion-row>
        <ion-col size-md="8" size-sm="12" size-xs="12" col-lg="8" col-xl="8">
          <div>
            <div class="tab-content" id="myTabContent">
              <!-- information -->
              <div class="tab-pane" id="overView" [ngClass]="{ 'active':activeTab==='overView'}" role="tabpanel">
                <div class="mt-4">
                  <ion-text color="tertiary" class="mt-3 package-title">
                    <h2>{{ staycationPreviewData?.packageValues?.name }}</h2>
                  </ion-text>
                  <ion-label color="tertiary">
                    <p class="discription-line-height">
                      {{ staycationPreviewData?.packageValues?.discription }}
                    </p>
                  </ion-label>
                </div>
                <!-- pink tab -->
                <ion-card class="mt-4 pink_tab" *ngIf="staycationPreviewData?.packageValues?.highlights &&
                staycationPreviewData?.packageValues?.highlights.length < 5">
                  <ion-card-content class="pink_tab_content">
                    <ion-row class="text-center">
                      <ion-col class="col-6 col-md-3 pink_tab_col mt-1 col-lg-3 col-sm-6 col-xl-3"
                        *ngFor="let h of staycationPreviewData?.packageValues?.highlights">
                        <div class="image2">
                          <img src="../assets/highlights/{{h.icon}}.png" />
                        </div>
                        <div class="image2 text-font-size mt-2">
                          &nbsp;
                          <ion-note color="tertiary">
                            <div class="pink_tab_text">
                              {{h.title}}
                            </div>
                          </ion-note>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-card-content>
                </ion-card>
                <div class="mt-4">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td class="td_heading">Destination</td>
                        <td class="td_data">
                          {{ staycationPreviewData?.packageValues?.name }}
                        </td>
                      </tr>

                      <!-- <tr>
                        <td class="td_heading">Category</td>
                        <td class="td_data ">
                          <span> {{  staycationPreviewData?.packageValues?.category }}</span>
                        </td>

                      </tr> -->
                      <td class="td_heading">Category</td>
                      <td>


                        <div class="td_data" *ngFor="
                            let category of staycationPreviewData?.packageValues?.category
                          ">
                          {{ category }}
                        </div>


                      </td>
                      <tr>
                        <td class="td_heading">Inclusions</td>
                        <div class="td_data">
                          <!-- <td>
                            <ion-icon name="heart" width="3px"></ion-icon>&nbsp;
                            {{ inclusion }}
                          </td> -->
                          <td>
                            <ion-row>
                              <ion-col size="6" *ngFor="
                                  let inclusion of staycationPreviewData
                                    ?.packageValues?.inclusions
                                ">
                                <div class="p-1">
                                  <ion-icon name="heart" width="3px"></ion-icon>&nbsp; {{ inclusion }}
                                </div>
                              </ion-col>
                            </ion-row>
                          </td>
                        </div>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <div class="tab-pane" id="accommodation" [ngClass]="{ 'active':activeTab==='accommodation'}"
                role="tabpanel">
                <div class="text-theming-color mt-4">
                  <h2>
                    {{ staycationPreviewData?.packageValues?.hotel?.name }}
                  </h2>
                  <p class="subTitle">
                    {{ staycationPreviewData?.packageValues?.hotel?.subTitle }}
                  </p>
                  <p class="discription-line-height m-0">
                    {{ staycationPreviewData?.packageValues?.hotel?.description}}
                  </p>
                  <div class="row" *ngIf="
                  staycationPreviewData?.packageValues?.hotel?.rating > 0
                    ">
                    <div class="col-sm-12">
                      <span class="list-inline rating-list" *ngFor="let star of stars; let i= index"
                        style="display: inline-block">
                        <li id="{{'starId'+i}}" [ngClass]="{'selected': (star <= selectedValue)}">
                          <ion-icon name="star">
                          </ion-icon>
                        </li>
                      </span>
                    </div>
                  </div>
                  <!-- {{ staycationPreviewData?.packageValues?.hotel.rating }} -->
                  <p class="">

                    {{
                    staycationPreviewData?.packageValues?.hotel?.address
                    ?.landMark
                    }}&nbsp;
                    {{
                    staycationPreviewData?.packageValues?.hotel?.address
                    ?.city
                    }}&nbsp;
                    {{
                    staycationPreviewData?.packageValues?.hotel?.address
                    ?.state
                    }}&nbsp;
                    {{
                    staycationPreviewData?.packageValues?.hotel?.address
                    ?.pincode
                    }}&nbsp;
                    <!-- <a onclick="$('#location').trigger('click')"><span class="view-map">View on Map</span></a> -->
                    <a (click)="overView('location')"><span class="view-map">View on Map</span></a>

                  </p>
                </div>
                <div class="mt-4">
                  <div>
                    <ion-grid class="text-theming-color">
                      <div *ngFor="let a of roomsData;let i=index">
                        <div class="card">
                          <div class="card-body">
                            <ion-row>
                              <ion-col size="6">
                                <img class="text-center pt-1 pr-1 preview_image_size" [src]="a.images[0]" alt="" />
                              </ion-col>
                              <ion-col size="6">
                                <ion-row>
                                  <ion-col size="6" class="p-1" *ngFor="let hotelImages of a.images | slice:1:5;"
                                    data-toggle="modal" (click)="imageList(a)">
                                    <img class="text-center image_size-accommodation" [src]="hotelImages" alt="" />
                                  </ion-col>
                                </ion-row>
                              </ion-col>
                            </ion-row>
                            <ion-row>
                              <ion-col size="12">
                                <h2 class="pt-2">
                                  <b>{{ a.roomtype }}</b>
                                </h2>

                                <div class="amenities-color " data-toggle="collapse" data-target="#collapseAmenitiese"
                                  aria-expanded="false" aria-controls="collapseExample">
                                  <h4>Room Amenities</h4>
                                </div>
                                <div class="collapse show" id="collapseAmenitiese">
                                  <ion-row>
                                    <ion-col size="6" size-lg='4'
                                      *ngFor="let room_amenities of a.roomAmenities; index as i">
                                      <div>
                                        <ion-text [id]="'collapse' + i">
                                          <p>
                                            <ion-icon name="checkmark-circle-outline"></ion-icon>
                                            {{ room_amenities }}
                                          </p>
                                        </ion-text>
                                      </div>
                                    </ion-col>
                                  </ion-row>
                                </div>

                              </ion-col>
                              <ion-col size="4" class="mt-4">
                                <div>
                                  <ion-text>
                                    <h3> {{ a.roomPrice| currency:"₹ " : false : '2.0-0' }}</h3>
                                  </ion-text>
                                </div>
                                <div>
                                  <!--TODO: use it after room selaction -->
                                  <!-- <ion-button class="mobile-width select-room" shape="round" fill="outline"
                                    *ngIf="i!=0">Select
                                    Room</ion-button> -->
                                </div>
                                <div>
                                  <!--TODO: use it after room selaction -->
                                  <!-- <ion-button class="mobile-width select-room" shape="round" fill="outline"
                                    *ngIf="i==0">Selected</ion-button> -->
                                </div>
                              </ion-col>
                            </ion-row>

                          </div>
                        </div>
                        <br />

                      </div>
                    </ion-grid>
                  </div>
                  <!-- accommodationModal window-->
                </div>
                <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayHotel}">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="modal-body">
                        <button type="button" (click)="onCloseHandledHotel()" class="close close-color"
                          data-dismiss="modal" aria-label="Close">
                          <!-- <span aria-hidden="true">&times;</span> -->
                          <ion-icon name="close-outline"></ion-icon>
                        </button>

                        <ion-grid>
                          <ion-row class="row">
                            <ion-col>
                              <div class="float-left backButton" (disabled)="sliderIndex==1" (click)="slidePrev()">
                                <ion-icon name="chevron-back-outline"></ion-icon>
                              </div>
                            </ion-col>
                            <ion-col>
                              <div class="float-right frwdButton" (click)="slideNex()"
                                (disabled)="sliderIndex>imagesModalList.length">
                                <ion-icon name="chevron-forward-outline"></ion-icon>
                              </div>
                            </ion-col>
                          </ion-row>
                        </ion-grid>

                        <!-- <img class="text-center image_size zoom-image" [src]="selectedItem" alt="" /> -->
                        <span class="">
                          <img src="{{ selectedItem}}" class="text-center image_size" alt="..." />
                        </span>
                        <ion-slides [options]="slideOptsOne" class="mt-2">
                          <ion-slide *ngFor="let item of imagesModalList; index as i"
                            (click)="listClick($event, item, i)">
                            <div>
                              <img class="text-center img-fluid img-responsive thumbnail-img" [src]="item" alt="" />
                            </div>
                          </ion-slide>
                        </ion-slides>

                      </div>

                    </div>
                  </div>
                </div>

              </div>

              <div class="tab-pane" id="location" [ngClass]="{ 'active':activeTab==='location'}" role="tabpanel"
                aria-labelledby="location-tab">
                <div class="text-theming-color mt-3">
                  <ion-text>
                    <h2>Location</h2>
                  </ion-text>
                  <div>
                    <div class="mt-3">

                      <agm-map *ngFor="let lan of allLocations; let i = index" [latitude]="lan?.lat"
                        [longitude]="lan?.lng" [zoom]="zoom">
                        <agm-marker [latitude]="lan?.lat" [longitude]="lan?.lng"></agm-marker>
                      </agm-map>
                    </div>
                  </div>
                  <br />

                </div>
                <br />
              </div>
              <div class="tab-pane" id="gallery" [ngClass]="{ 'active':activeTab==='gallery'}" role="tabpanel">
                <!-- gallery -->
                <div class="text-theming-color mt-3">
                  <ion-text>
                    <h2>Make Your Own Memories</h2>
                  </ion-text>

                  <ion-row>
                    <ion-col class="pb-1 pr-1 column" size="6" *ngFor="
                        let galleryImages of staycationPreviewData?.packageValues
                          ?.additionalImages
                      " (click)="imageZoom(staycationPreviewData?.packageValues
                      ?.additionalImages)">

                      <!-- <ion-img src="{{ galleryImages }}"> </ion-img> -->
                      <img src="{{ galleryImages  }}" class="text-center image_size-gallery" alt="..." />
                    </ion-col>
                  </ion-row>

                  <!-- Modal -->
                  <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayGalleryImages}">

                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">

                        <div class="modal-body">
                          <button type="button" (click)="onCloseGallery()" class="close close-color"
                            data-dismiss="modal" aria-label="Close">
                            <ion-icon name="close-outline"></ion-icon>
                          </button>
                          <ion-grid>
                            <ion-row class="row">
                              <ion-col>
                                <div class="float-left backButton" (disabled)="sliderIndex==1"
                                  (click)="slidePrevious()">
                                  <ion-icon name="chevron-back-outline"></ion-icon>
                                </div>
                              </ion-col>
                              <ion-col>
                                <div class="float-right frwdButton" (click)="slideNext()"
                                  (disabled)="sliderIndex>imagesModalList.length">
                                  <ion-icon name="chevron-forward-outline"></ion-icon>
                                </div>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                          <!-- <div class="img-hover-zoom">
                            <lib-ngx-image-zoom [thumbImage]=imageZoomModel [fullImage]=imageZoomModel
                              alt="Responsive image" [magnification]="1" [enableScrollZoom]="true" [lensWidth]="300"
                              [lensHeight]="300"></lib-ngx-image-zoom>
                          </div> -->
                          <span class="">
                            <img src="{{ selectedItem}}" class="text-center image_size" alt="..." />
                          </span>
                          <ion-slides [options]="slideOptsOne" class="mt-2">
                            <ion-slide *ngFor="let item of imageZoomModel;index as i"
                              (click)="listClick($event,item,i)">
                              <img class="text-center img-fluid img-responsive thumbnail-img " [src]="item" alt="" />
                            </ion-slide>
                          </ion-slides>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                <br />

              </div>
            </div>
          </div>
        </ion-col>
        <!-- Book Now -->
        <div *ngIf="bookingDetails">

        </div>
        <ion-col size-md="4" size-sm="12" size-xs="12" col-lg="4" col-xl="4" class="pl-md-4">
          <div *ngIf="bookingDetails">
            <ion-card class="bg-white book-now">
              <ion-card-header color="tertiary" class="p-3">
                <span *ngIf="!discountPrice" class="total_price d-block pt-2">{{
                  staycationPreviewData?.packageValues?.fare?.totalFare| currency:"₹ " : false : '2.0-0'
                  }}</span>
                <span *ngIf="discountPrice" class="discounted_price">{{ couponCodeprice | currency:"₹ " : false :
                  '2.0-0'}}</span>
                <ion-note>
                  <div class="days_nights mt-3">
                    {{ staycationPreviewData?.packageValues?.numberOfDays }}
                    Days & {{
                    staycationPreviewData?.packageValues?.numberOfNights
                    }}
                    Nights
                  </div>
                </ion-note>
              </ion-card-header>
              <ion-card-content>
                <div *ngIf="!couponValid">
                  <p class="copan_code" (click)="Copancode()">
                    <span *ngIf="!copan_code">Apply Coupon Code</span>
                  </p>
                  <div *ngIf="copan_code">
                    <ion-grid>
                      <ion-row>
                        <ion-col class="col-10 pl-0">
                          <div class="copan_code_color_side">
                            Coupon Code
                          </div>
                        </ion-col>
                        <ion-col class="col-2 text-right pr-0">
                          <i class="fal fa-times-circle fa-lg copan_code_color" (click)="Copancodeclose()"></i>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                    <form [formGroup]="form" (ngSubmit)="onSubmit()">
                      <input maxlength="15" type="text" formControlName="copancode"
                        class="form-control borderlineLogin mt-3" [ngClass]="{
                          'is-invalid': submitted && f.copancode.errors
                        }" placeholder="Enter Coupon Code" minlength="1" maxlength="15" />
                      <div *ngIf="submitted && f.copancode.errors" class="invalid-feedback">
                        <div *ngIf="f.copancode.errors.required">
                          Coupon Code Is Required
                        </div>
                      </div>
                      <button data-amplify-analytics-on='click' data-amplify-analytics-name='StaycationApply'
                        data-amplify-analytics-attrs='Staycation' [disabled]="loading" class="copancode_button mt-3">
                        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                        Apply
                      </button>
                      <p *ngIf="couponCodeError" class="couponCodeError">Something Went Wrong. Please Try Again</p>
                    </form>
                  </div>
                </div>

                <div *ngIf="couponValid">
                  <ion-row *ngIf="!invalidCouponCode">
                    <div class="copan_code_content">Total Basic Cost</div>
                    <div class="copan_code_price">{{ actualPrice | currency:"₹ " : false :
                      '2.0-0'}}</div>
                    <div class="Discount_price_text">
                      {{ couponCoderes }}&nbsp;&nbsp;<i class="fal fa-times-circle fa-lg copan_code_color_invalid"
                        (click)="CopancodecloseInvalid()"></i>
                    </div>

                    <div class="Discount_price">
                      -&nbsp;{{ totalDeceased | currency:"₹ " : false : '2.0-0'}}
                    </div>
                    <div class=" Discount_price_text_coupon">
                      Discounted Price
                    </div>
                    <div class="Discount_price_coupon">
                      &nbsp;{{ couponCodeprice | currency:"₹ " : false : '2.0-0'}}
                    </div>
                    <br />
                  </ion-row><br />
                  <ion-row *ngIf="invalidCouponCode">
                    <div class="copan_code_content">Total Basic Cost</div>
                    <div class="copan_code_price">
                      {{ staycationPreviewData.packageValues.fare.totalFare| currency:"₹ " : false : '2.0-0' }}
                    </div>
                    <div class="copan_code_contentforcoupon_invalid">
                      {{ couponCodefail }}&nbsp;&nbsp;<i class="fal fa-times-circle fa-lg copan_code_color_invalid"
                        (click)="CopancodecloseInvalid()"></i>
                    </div>
                    <br />
                    <p class="copan_code_invalid">
                      Invalid Coupon Code
                    </p>
                  </ion-row><br />
                  <ion-row *ngIf="worngCoupon">
                    <div class="copan_code_content">Total Basic Cost</div>
                    <div class="copan_code_price">
                      {{ staycationPreviewData.packageValues.fare.totalFare| currency:"₹ " : false : '2.0-0' }}
                    </div>
                    <div class="copan_code_contentforcoupon_invalid">
                      {{ couponCoderes }}&nbsp;&nbsp;<i class="fal fa-times-circle fa-lg copan_code_color_invalid"
                        (click)="CopancodecloseInvalid()"></i>
                    </div>
                    <br />
                    <p class="copan_code_invalid">
                      invalid coupon code
                    </p>
                  </ion-row><br />
                </div>
              </ion-card-content>
            </ion-card>
          </div>
          <div *ngIf="!bookingDetails"></div>

          <div *ngIf="bookingDetails">
            <form [formGroup]="dateForm" class="text-color1 pb-3 mt-2 ">

              <div class="card-sty px-3 py-3 bg-white">
                <label class="d-block">Travel Dates</label>
                <mat-form-field appearance="fill" class="w-100">
                  <mat-date-range-input [rangePicker]="picker" [min]="minDate" (click)="picker.open()">
                    <input readonly matStartDate placeholder="Start Date" formControlName="startDate">
                    <input readonly matEndDate placeholder="End Date" formControlName="endDate"
                      (dateChange)="selectedDate()">
                  </mat-date-range-input>
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-date-range-picker #picker></mat-date-range-picker>
                </mat-form-field>
                <div *ngIf="dateInvalid" class="invalid_date mt-2">Travel Date Is Required</div>
              </div>
              <div class="card-sty mt-2 px-3 pt-3 pb-2 bg-white">
                <label (click)="Checkroom()" class="check_avilable d-block">Check Room Availability</label>
                <div *ngIf="checkRoomModalDisplay">
                  <div *ngIf="checkRoomSelectRoomModal">
                    <p class="rooms_notavil">Rooms are not available for selected dates. Please select other dates</p>
                  </div>
                  <div *ngIf="checkRoomRoomavilable">
                    <p class="room_avil">Rooms Are Available For Given Dates</p>
                  </div>
                </div>
              </div>
              <div class="card-sty mt-2  pb-3 bg-white">

                <!-- <li class="list-group-item">
                  <label class="d-block">Travel start date</label>
                  <input type="date" class="w-100" formControlName="startDate" (change)="selectedDate()" [min]="todayDate" required />
                 </li> -->
                <ul class="list-group list-group-flush" *ngIf="
                    stayCationTravellersDetails?.adults.length +
                      stayCationTravellersDetails?.children.length +
                      stayCationTravellersDetails?.infants.length ==
                    0
                  ">
                  <li class="list-group-item d-flex">
                    <div class="flex-grow-1">
                      <ion-label>Adults
                      </ion-label>
                      <p class="age_details">(Age 12+)</p>
                    </div>
                    <!-- (click)="adultCountChange('decrease')" -->
                    <!-- (click)="adultCountChange('increase')" -->
                    <div class="flex-grow-1 d-flex justify-content-between">
                      <ion-icon class="icons-blod" [ngClass]="
                        adultscount ==
                        staycationPreviewData?.packageValues?.travellers
                          ?.minAdults
                          ? 'desabled_display'
                          : ''
                      " name="remove-outline" (click)="adultCountChange('decrease')"></ion-icon>
                      <span class="">{{ adultscount }}</span>
                      <ion-icon class="icons-blod" [ngClass]="
                        adultscount ==
                        staycationPreviewData?.packageValues?.travellers
                          ?.maxAdults
                          ? 'desabled_display'
                          : ''
                      " name="add-outline" (click)="adultCountChange('increase')"></ion-icon>
                    </div>

                  </li>
                  <li class="list-group-item d-flex ">
                    <div class="flex-grow-1">
                      <ion-label>Children</ion-label>
                      <p class="age_details">(Age 2-12)</p>
                    </div>
                    <div class="flex-grow-1 d-flex justify-content-between">
                      <ion-icon name="remove-outline" [ngClass]="
                      childrencount ==
                      staycationPreviewData?.packageValues?.travellers
                        ?.minChildren
                        ? 'desabled_display'
                        : ''
                    " class="icons-blod" (click)="childCountChange('decrease')"></ion-icon>
                      <span class="">{{ childrencount }}</span>
                      <ion-icon name="add-outline" [ngClass]="
                      childrencount ==
                      staycationPreviewData?.packageValues?.travellers
                        ?.maxChildren
                        ? 'desabled_display'
                        : ''
                    " class="icons-blod" (click)="childCountChange('increase')"></ion-icon>
                    </div>
                  </li>
                </ul>
                <div class="no-gutters" *ngIf="
                    stayCationTravellersDetails?.adults.length +
                      stayCationTravellersDetails?.children.length +
                      stayCationTravellersDetails?.infants.length >
                    0
                  ">
                  <div class="container-fluid">
                    <div class="d-flex justify-content-around pt-3">
                      <span class="itenary_header">Travellers</span>
                      <ion-icon name="create-outline" class="ml-auto edit cursor-pointer" (click)="gototravellers()">
                      </ion-icon>
                    </div>
                    <ion-col>
                      <div class="d-flex flex-row" *ngFor="let name of stayCationTravellersDetails.adults">
                        <div>
                          <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>
                        </div>
                        <div class="passenger_name mt-2">{{ name.firstName }}
                        </div>
                      </div>
                      <ion-text class="passenger_name mt-2 d-block" *ngFor="
                          let name of stayCationTravellersDetails.children
                        ">
                        <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>{{ name.firstName }}
                      </ion-text>
                      <ion-text class="passenger_name mt-2 d-block"
                        *ngFor="let name of stayCationTravellersDetails.infants">
                        <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>{{ name.firstName }}
                      </ion-text>
                      <!-- <button class="btn book_btn" (click)="gototravellers()">
                      Edit
                    </button> -->
                    </ion-col>
                  </div>
                </div>
                <div *ngIf="
                stayCationTravellersDetails?.adults.length +
                  stayCationTravellersDetails?.children.length +
                  stayCationTravellersDetails?.infants.length ===
                0
              " class="ion-text-center mt-3">
                  <ion-button color="tertiary" shape="round" (click)="processBooking()">Select Travellers</ion-button>
                </div>

                <div *ngIf="
                stayCationTravellersDetails?.adults.length +
                  stayCationTravellersDetails?.children.length +
                  stayCationTravellersDetails?.infants.length >
                0
              " class="ion-text-center mt-3">
                  <ion-button color="tertiary" shape="round" (click)="processBooking()">Proceed Payment</ion-button>
                </div>
              </div>
            </form>
          </div>
          <div *ngIf="!bookingDetails"></div>

        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- view Terms & Conditions -->
    <div class="row no-gutters">
      <div class="text-theming-color pointer-cursor-Terms d-inline" (click)="openModal()">
        <span> <img width="20px" src="../assets/images/t&c.svg" /></span>
        &nbsp;
        <span><b>View All Terms & Conditions</b></span>
      </div>
      <!-- cancle trip code  don't delete-->
      <!-- <div class="text-theming-color pointer-cursor-Terms d-inline ml-3" (click)="cancelTrip()">
        <span> <img width="20px" src="../assets/images/t&c.svg" /></span>
        &nbsp;
        <span><b>Cancel Booking</b></span>
      </div> -->
    </div>
    <!-- Modal  window-->
    <div class="modal mt-5" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title text-theming-color" id="exampleModalLabel">
              <b>Terms & Conditions</b>
            </h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="onCloseHandled()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body terms-condition-body">
            <div class="text-theming-color">
              <h3><b>Booking Validity</b></h3>
              <p>
                {{ staycationPreviewData?.packageValues?.bookingValidity }}
              </p>
              <h3><b>Blackout Dates</b></h3>
              <p *ngFor="
                  let a of staycationPreviewData?.packageValues?.blackoutDates
                ">
                {{ a.note }}
              </p>
              <h3><b>Child Policy</b></h3>
              <p>
                {{
                staycationPreviewData?.packageValues?.cancellation
                ?.childPolicyNote
                }}
              </p>
              <h3><b>Reschedule Policy:</b></h3>
              <p>
                {{
                staycationPreviewData?.packageValues?.reschedulePolicy
                ?.specialNote
                }}
              </p>
              <h3><b>Cancellation Policy:</b></h3>
              <p>
                {{
                staycationPreviewData?.packageValues?.cancellation
                ?.specialNote
                }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <br />
  </div>




  <!-- footer code starts -->

  <ion-footer class="ion-no-border border-none footer-background-color">
    <ion-card class="ion-card-footer footer-background-color">
      <ion-grid>
        <ul class="nav justify-content-center footer-text-styles mt-4 mb-2 dispaly-mobile">
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/about-us']">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/staycation']">Staycations</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" style="cursor: pointer;" (click)="goToContact()">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/staycation']">Tailor Trips</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link footer-text-styles" href="#">Blogs</a>
          </li> -->
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/policy']">Policies</a>
          </li>
        </ul>
        <ul class="nav justify-content-center mt-2 ">
          <li class="nav-item">
            <a class="nav-link footer-icon-styles twitter-icon" target="_blank" href="https://twitter.com/voyaah1/">
              <ion-icon class="p-0 m-0" name="logo-twitter"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles facebook-icon" target="_blank"
              href="https://www.facebook.com/voyaahcations/">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles linkedin-icon" target="_blank"
              href="https://www.linkedin.com/company/voyaah/">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles instagram-icon" target="_blank"
              href="https://www.instagram.com/voyaah_cations/">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>
        </ul>
        <hr width="100%" class="hr-styles dispaly-mobile" noshade />
        <div class="pt-3 poweredby text-center pb-3 dispaly-mobile">
          <p>
            &#169; Copyright 2021-2020. All Rights Reserved. Powered by
            <span class="ml-1 company"><a href="https://ojas-it.com/" target="_blank">
                OJAS Innovative Technologies Pvt Ltd</a></span>
          </p>
        </div>
      </ion-grid>
    </ion-card>
  </ion-footer>
  <!-- footer code ends -->
</ion-content>
<div class="loading-block col-12" *ngIf="isLoading">
  <div class="text-center">
    <img class="loader-image" src="../../../assets/images/logo.svg" alt="Voyaah Logo" />
  </div>
  <div class="message text-center">Loading, Please Wait...</div>
  <div class="mx-auto preloader">
    <i>.</i>
    <i>.</i>
    <i>.</i>
  </div>
</div>
<div *ngIf="modalDisplay">
  <div class="blur-box spinner_overlay"></div>
  <div class="center_image">
    <div class="card pay_center" style="width: 18rem">
      <div style="border-radius: 10px">
        <div class="fail_trip_color">
          <div class="modal-body fail_trip_head" *ngIf="validationModal">
            <h3 class="fail_trip_font1">Validating your bookings</h3>
            <p>Please do not Refresh the page/click Back button</p>
            <img src="../../../assets/images/loader.gif" class="failtrip_link" />
          </div>
          <div class="modal-body fail_trip_head" *ngIf="selectRoomModal">
            <h3 class="fail_trip_font1">Selected room is not available</h3>
            <p>Please Select different dates</p>
            <button class="trip_button fail_trip_font1" data-dismiss="modal" (click)="openRoomSelection()">
              Close
            </button>
          </div>
          <div class="modal-body fail_trip_head" *ngIf="errorWhileValidation">
            <h3 class="fail_trip_font1">{{errorText}}</h3>
            <button class="trip_button fail_trip_font1" data-dismiss="modal" (click)="openRoomSelection()">
              Close
            </button>
          </div>
          <div class="modal-body fail_trip_head" *ngIf="errorWhileBooking">
            <h3 class="fail_trip_font1">Error while booking</h3>
            <button class="trip_button fail_trip_font1" data-dismiss="modal" (click)="openRoomSelection()">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
